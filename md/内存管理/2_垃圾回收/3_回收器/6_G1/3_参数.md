
java -Xmx50m -Xms50m -XX:+UseG1GC -XX:MaxGCPauseMillis=200 -jar c:\javademos\demo\jfc\Java2D\Java2demo.jar

选项和默认值                                        	描述                                                                    
-XX:+UseG1GC	开启G1
-XX:MaxGCPauseMillis=n	最大GC停顿时间，这是个软目标，JVM将尽可能（但不保证）停顿小于这个时间
-XX:InitiatingHeapOccupancyPercent=n	堆占用了多少的时候就触发GC，默认为45
-XX:NewRatio=n	new/old 比，默认为2
-XX:SurvivorRatio=n	eden/survivor比，默认为8
-XX:MaxTenuringThreshold=n	新生代到老年代的岁数，默认是15
-XX:ParallelGCThreads=n	并行GC的线程数，默认值会根据平台不同而不同
-XX:ConcGCThreads=n	并发GC使用的线程数
-XX:G1ReservePercent=n	设置作为空闲空间的预留内存百分比，以降低目标空间溢出的风险。默认值是 10%。
-XX:G1HeapRegionSize=n 	
设置的 G1 区域的大小。值是2的幂，范围是1 MB 到32 MB。目标是根据最小的 Java 堆大小划分出约 2048 个区域。



最佳实践  


年轻代大小：避免使用 -Xmn 选项或 -XX:NewRatio 等其他相关选项显式设置年轻代大小，因为固定年轻代的大小会覆盖暂停时间目标。

暂停时间目标：每当对垃圾回收进行评估或调优时，都会涉及到延迟与吞吐量的权衡。G1是增量垃圾回收器， 其吞吐量目标是 90% 的应用程序时间和 10%的垃圾回收时间。因此，暂停时间目标不要太严苛。目标太过严苛表示您愿意承受更多的垃圾回收开销，而这会直接影响到吞吐量。

掌握混合垃圾回收：当您调优混合垃圾回收时，请尝试以下选项

-XX:InitiatingHeapOccupancyPercent

-XX:G1MixedGCLiveThresholdPercent 和 -XX:G1HeapWastePercent

-XX:G1MixedGCCountTarget 和 -XX:G1OldCSetRegionThresholdPercent

参考：



