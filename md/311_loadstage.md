

# 加载阶段


## 非数组类加载

获取

    依据类的全限定名来获取类的二进制字节流
    比如通过类加载加载jar包、运行时生成的二进制流器
    （这是最灵活和可控的）
    
转储
    
    将字节流的静态存储结构转化为方法区的运行时数据结构。
    
生成对象
    
    在内存中创建一个java.lang.Class对象，用来封装类在方法区内的数据结构
    
    虚拟机规范中并没有规定这个对象保存在哪里。
    在hotspot中，java.lang.Class的对象比较特殊，虽然是对象，却保存在访法区中。

## 数组类加载

	数组类本身由JVM直接创建

	组件类型是引用类型
		递归采用本节定义的加载过程加载该组件类型，
		数组会在加载该组件类型的类加载器的类名称空间上增加一个标识。
	数组的组件类型是非引用类型
		虚拟机会把数组标记为与引导类加载器关联。


# 加载时机

## 预加载

	Java虚拟机有预加载功能。
	类加载器并不需要等到某个类被"首次主动使用"时再加载它,JVM规范规定JVM可以预测加载某一个类，
	如果这个类出错，但是应用程序没有调用这个类， JVM也不会报错；
	如果调用这个类的话，JVM才会报错，（LinkAgeError错误)。
	其实就是一句话，Java虚拟机有预加载功能。
