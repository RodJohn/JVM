


# 结构


    HotSpot虚拟机中，
    对象的内存结构分为：对象头 、实例数据 和对齐填充
    
# 对象头

概述

    对象头（Header）由标记字段、类型指针和数组长度


标记字段

    用于存储对象自身的运行时数据， 
    如哈希码、GC分代年龄、锁状态标志、线程持有的锁
    在32位和64位的虚拟机中分别为32个和64个Bits（暂 不考虑开启压缩指针的场景）

类型指针
    
    类型指针是对象指向它的类的元数据的指针
    
数组长度    
    
    如果对象是一个Java数组，对象头中还会记录数组长度的数据，

# 实例数据 


    实例数据中保存字段内容 父类
    这部分的存储顺序会受到虚拟机分配策略参数（FieldsAllocationStyle）和字段在Java源码中定义顺序的影响。
    HotSpot虚拟机 默认的分配策略为longs/doubles、ints、shorts/chars、bytes/booleans、oops（Ordinary Object Pointers），
    从分配策略中可以看出，相同宽度的字段总是被分配到一起。

# 对齐填充


    对齐填充并不是必然存在的，它仅仅起着占位符的作用。
    由于HotSpot VM的自动内存管理系统要求对象起始地址必须是8字节的整数倍，
    换句话说就是对象的大小必须是8字节的整数倍。


# 参考

    https://www.cnblogs.com/duanxz/p/4967042.html       
